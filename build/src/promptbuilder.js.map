{"version":3,"file":"promptbuilder.js","sourceRoot":"","sources":["../../src/promptbuilder.ts"],"names":[],"mappings":";;;AAIA,6CAA4C;AAC5C,mCAAsD;AAKtD,MAAM,eAAe,GAAG,EAAC,IAAI,EAAE,WAAW,EAAC,CAAC;AAE5C,MAAM,cAAc,GAAgC;IAChD,QAAQ,EAAE,uBAAsC;IAChD,OAAO,EAAE,wBAAuC;CACnD,CAAC;AAEF,MAAa,aAAc,SAAQ,yBAAY;IAE9B,MAAM,CAAC,UAAkB,EAAE,QAAgB,EAAE,cAAyB,EAAE,aAAmB;;YACpG,IAAI,UAAU,WAAgB,EAAE;gBAAE,OAAO,IAAI,CAAC;aAAE;YAEhD,OAAO,IAAI,CAAC,QAAQ,CAAC,UAAU,EAAE,QAAQ,EAAE,cAAc,EAAE,aAAa,CAAC,CAAC;QAC9E,CAAC;KAAA;IAEO,UAAU,CAAC,QAAgB,EAAE,cAAyB;QAC1D,MAAM,OAAO,GAAsB,EAAE,CAAC;QACtC,IAAI,cAAc,CAAC,cAAc,CAAC,IAAI,CAAC,EAAE;YACrC,cAAc,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,GAAG,CAAE,CAAC,IAAY,EAAE,EAAE;gBACtD,IAAI,IAAI,WAAgB,EAAE;oBACtB,IAAI,QAAQ,EAAE;wBACV,OAAO,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,KAAK,EAAE,EAAE,IAAI,EAAE,gBAAQ,CAAC,QAAQ,CAAC,EAAE,EAAC,CAAC,CAAC;qBACtE;iBACJ;qBAAM,IAAI,cAAc,CAAC,QAAQ,KAAK,IAAI,IAAI,IAAI,WAAgB,EAAE;oBACjE,OAAO,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC,WAAW,EAAE,GAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE,KAAK,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,IAAI,EAAE,IAAI,EAAE,EAAC,CAAC,CAAC;iBAC/G;YACL,CAAC,CAAC,CAAC;SACN;QAED,OAAO,OAAO,CAAC;IACnB,CAAC;IAEa,YAAY,CAAC,cAAyB,EAAE,mBAAyB;;YAC3E,IAAI,CAAC,cAAc,IAAI,CAAC,cAAc,CAAC,OAAO,EAAE;gBAAE,OAAO,IAAI,CAAC;aAAE;YAEhE,OAAO,mBAAmB,CAAA,CAAC,CAAC,CAAC,CAAC,gBAAQ,CAAC,cAAc,CAAC,OAAO,EAAE,mBAAmB,CAAC,CAAA,CAAC,CAAC,IAAI,CAAC;QAC9F,CAAC;KAAA;IAEa,QAAQ,CAAC,QAAgB,EAAE,cAAyB,EAAE,aAAmB;;YAEnF,MAAM,WAAW,GAAG,MAAM,IAAI,CAAC,UAAU,CAAC,QAAQ,EAAE,cAAc,EAAE,aAAa,CAAC,CAAC;YAEnF,MAAM,OAAO,GAAG,CAAC,GAAG,WAAW,EAAE,eAAe,CAAC,CAAC;YAElD,OAAO;gBACH,IAAI,EAAE,OAAO;gBACb,IAAI,EAAE,MAAM;gBACZ,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,cAAc,EAAE,IAAI,EAAE,cAAc,CAAC;gBAC3D,OAAO,EAAE,CAAC,GAAG,OAAO,EAAE,GAAG,IAAI,CAAC,UAAU,CAAC,QAAQ,EAAE,cAAc,CAAC,CAAC;gBACnE,QAAQ,EAAE,EAAE;aACf,CAAC;QACN,CAAC;KAAA;IAEa,UAAU,CAAC,cAAyB,EAAE,aAAmB;;YACnE,MAAM,YAAY,GAAG,aAAa,KAAG,SAAS,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC,cAAc,CAAC,OAAO,CAAC;YACxF,MAAM,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC,cAAc,CAAC,CAAC;YACnD,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,UAAU,CAAC,cAAc,CAAC,CAAC;YAEtD,OAAO;gBACH,IAAI,EAAE,OAAO;gBACb,OAAO,EAAE,SAAS,cAAc,CAAC,IAAI,CAAC,CAAC,CAAC,cAAc,CAAC,IAAI,CAAC,WAAW,EAAE,CAAA,CAAC,CAAC,OAAO,GAAG;gBACrF,OAAO,EAAE,YAAY;gBACrB,QAAQ,EAAE,CAAC,CAAC,cAAc,CAAC,QAAQ;gBACnC,IAAI,EAAE,cAAc,CAAC,IAAI,KAAG,SAAS,CAAA,CAAC,CAAC,SAAS,CAAA,CAAC;oBAC7C,CAAC,UAAU,CAAA,CAAC,CAAC,UAAU,CAAA,CAAC;wBACpB,CAAC,OAAO,IAAI,OAAO,CAAC,MAAM,CAAA,CAAC,CAAC,MAAM,CAAA,CAAC;4BAC/B,OAAO,CAAC,CAAC;gBACrB,OAAO;aACV,CAAC;QACN,CAAC;KAAA;IAEa,UAAU,CAAC,QAAgB,EAAE,cAAyB,EAAE,aAAmB;;YACrF,MAAM,UAAU,GAAG,QAAQ,CAAC;YAE5B,MAAM,QAAQ,GAAG,UAAU,IAAI,UAAU,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,UAAU,GAAG,CAAA,CAAC,CAAC,EAAE,CAAC;YACxE,IAAI,cAAc,EAAE;gBAChB,QAAQ,cAAc,CAAC,IAAI,EAAE;oBAEzB,KAAK,QAAQ,CAAC;oBACd,KAAK,QAAQ,CAAC;oBACd,KAAK,SAAS;wBACV,OAAO,IAAI,CAAC;oBAChB,KAAK,QAAQ;wBACT,MAAM,kBAAkB,GAAG,cAAc,CAAC,UAAU,CAAA,CAAC,mBAAK,cAAc,CAAC,UAAU,EAAG,CAAC,CAAC,EAAE,CAAC;wBAC3F,IAAI,cAAc,CAAC,iBAAiB,IAAI,eAAO,CAAC,aAAa,CAAC,KAAK,QAAQ,EAAE;4BACzE,MAAM,aAAa,GAAG,MAAM,CAAC,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;4BAEnE,MAAM,eAAe,GAAG,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,MAAM,CAAE,CAAC,CAAS,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,IAAI,CAAC,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,CAAC,CAAE,CAAC;4BACvH,KAAK,MAAM,GAAG,IAAI,eAAe,EAAE;gCAC/B,MAAM,YAAY,GAAG,MAAM,CAAC,IAAI,CAAC,cAAc,CAAC,iBAAiB,CAAC,CAAC,IAAI,CAAE,CAAC,OAAe,EAAE,EAAE,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;gCACzH,IAAI,YAAY,EAAE;oCACd,kBAAkB,CAAC,GAAG,CAAC,GAAG,cAAc,CAAC,iBAAiB,CAAC,YAAY,CAAC,CAAC;iCAC5E;6BACJ;yBACJ;wBAGD,OAAO,MAAM,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC,GAAG,CAAE,CAAC,GAAW,EAAE,EAAE;4BAC1E,MAAM,QAAQ,GAAc,kBAAkB,CAAC,GAAG,CAAC,CAAC;4BACpD,IAAI,CAAC,QAAQ,EAAE;gCACX,MAAM,IAAI,KAAK,CAAC,GAAG,UAAU,IAAI,GAAG,YAAY,CAAC,CAAC;6BACrD;4BAED,OAAO,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,aAAa,CAAC,CAAC,IAAI,CAAE,CAAC,OAAgB,EAAE,EAAE;gCACzE,MAAM,QAAQ,GAAG,CAAC,CAAC,CAAC,cAAc,CAAC,QAAQ,IAAI,CAAC,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;gCACpE,MAAM,SAAS,GAAG,CAAC,CAAC,CAAC,cAAc,CAAC,SAAS,IAAI,CAAC,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;gCACvE,MAAM,IAAI,GAAoB;oCAC1B,IAAI,EAAE,IAAI,CAAC,OAAO,CAAC,aAAa,IAAI,aAAa,CAAC,GAAG,CAAC,EAAE,GAAG,EAAE,QAAQ,CAAC;oCACtE,KAAK,EAAE,EAAE,IAAI,EAAE,GAAG,QAAQ,GAAG,GAAG,EAAE,EAAE;oCACpC,QAAQ,EAAE,CAAC,OAAO,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,IAAI,QAAQ,IAAI,CAAC,SAAS,CAAC;iCAC/E,CAAC;gCACF,IAAI,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,IAAI,OAAO,IAAI,CAAC,QAAQ,IAAI,SAAS,EAAE;oCAEjE,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,QAAa,CAAC;iCACnC;gCAED,OAAO,IAAI,CAAC;4BAChB,CAAC,CAAC,CAAC;wBAEP,CAAC,CAAC,CAAC,CAAC;oBAER,KAAK,OAAO;wBACR,MAAM,eAAe,GAAc,cAAc,CAAC,KAAK,CAAC;wBAExD,OAAO,KAAK,CAAC,OAAO,CAAC,aAAa,CAAC,IAAI,aAAa,CAAC,GAAG,CAAE,CAAC,SAAe,EAAE,GAAW,EAAE,EAAE;4BACvF,MAAM,IAAI,GAAG,CAAC,SAAS,IAAI,SAAS,CAAC,GAAG,CAAC,IAAI,GAAG,CAAC;4BACjD,MAAM,QAAQ,GAAG,CAAC,CAAC,CAAC,cAAc,CAAC,QAAQ,IAAI,CAAC,CAAC,eAAe,CAAC,QAAQ,CAAC,CAAC;4BAC3E,MAAM,SAAS,GAAG,CAAC,CAAC,CAAC,cAAc,CAAC,SAAS,IAAI,CAAC,CAAC,eAAe,CAAC,SAAS,CAAC,CAAC;4BAC9E,MAAM,IAAI,GAAoB;gCAC1B,IAAI,EAAE,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE,IAAI,EAAE,eAAe,CAAC;gCACpD,QAAQ,EAAE,IAAI,CAAC,WAAW,CAAC,eAAe,CAAC,IAAI,QAAQ,IAAI,CAAC,SAAS;gCACrE,KAAK,EAAE;oCACH,IAAI,EAAE,GAAG,QAAQ,GAAG,IAAI,EAAE;iCAC7B;6BACJ,CAAC;4BACF,IAAI,IAAI,CAAC,WAAW,CAAC,eAAe,CAAC,IAAI,CAAC,QAAQ,IAAI,SAAS,EAAE;gCAE7D,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,QAAa,CAAC;6BACnC;4BAED,OAAO,IAAI,CAAC;wBAChB,CAAC,CAAC,IAAI,EAAE,CAAC;oBAEb;wBACI,OAAO,aAAa,IAAI,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,GAAG,CAAE,CAAC,GAAW,EAAE,EAAE;4BACpE,OAAO;gCACH,IAAI,EAAE,GAAG;gCACT,KAAK,EAAE;oCACH,IAAI,OAAY;oCAChB,IAAI,EAAE,GAAG,QAAQ,GAAG,GAAG,EAAE;iCAC5B;6BACJ,CAAC;wBACN,CAAC,CAAC,IAAI,EAAE,CAAC;iBAChB;aACJ;YAED,OAAO,EAAE,CAAC;QACd,CAAC;KAAA;IAEO,OAAO,CAAC,KAAW,EAAE,mBAAoC,EAAE,cAAyB;QACxF,MAAM,IAAI,GAAG,mBAAmB,KAAK,IAAI,CAAC,CAAC,CAAC,GAAG,mBAAmB,IAAI,CAAA,CAAC,CAAA,EAAE,CAAC;QAC1E,MAAM,IAAI,GAAG,CAAC,KAAK,KAAK,SAAS,IAAI,KAAK,KAAK,IAAI,CAAC,CAAC,CAAC;YAClD,CAAC,cAAc,CAAC,IAAI,KAAK,QAAQ,IAAI,cAAc,CAAC,IAAI,KAAK,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC;gBAC1F,CAAC,KAAK,CAAC,KAAK,IAAI,KAAK,CAAC,IAAI,IAAI,IAAI,cAAc,CAAC,IAAI,GAAG,CAAC,CAAC,CAAA,CAAC;YAC/D,EAAE,CAAC;QAEP,OAAO,GAAG,IAAI,GAAG,IAAI,EAAE,CAAC;IAC5B,CAAC;IAEO,WAAW,CAAC,iBAA4B,EAAE;QAC9C,OAAO,CAAC,CAAC,cAAc,CAAC,IAAI,KAAK,QAAQ;YACrC,cAAc,CAAC,IAAI,KAAK,OAAO,CAAC,CAAC;YACjC,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC;YAC7B,IAAI,CAAC,UAAU,CAAC,cAAc,CAAC,CAAC;IACxC,CAAC;IAEO,UAAU,CAAC,cAAyB;QACxC,IAAI,cAAc,KAAK,SAAS,EAAE;YAAE,OAAO,KAAK,CAAC;SAAE;QAAA,CAAC;QAEpD,OAAO,cAAc,CAAC,IAAI,KAAK,OAAO;YAClC,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;IAC5C,CAAC;IAEO,QAAQ,CAAC,cAAyB;QACtC,IAAI,cAAc,KAAK,SAAS,EAAE;YAAE,OAAO,KAAK,CAAC;SAAE;QAAA,CAAC;QAEpD,OAAO,cAAc,CAAC,IAAI,KAAK,SAAS,IAAI,cAAc,CAAC,KAAK,KAAK,SAAS,CAAC;IACnF,CAAC;IAEa,UAAU,CAAC,cAAyB;;YAC9C,MAAM,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC,cAAc,CAAC,CAAC;YAEnD,MAAM,QAAQ,GAAG,UAAU,CAAA,CAAC,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC,CAAC,cAAc,CAAC;YACnE,MAAM,OAAO,GAAG,QAAQ,CAAC,OAAO,CAAC;YACjC,IAAI,eAAO,CAAC,OAAO,CAAC,KAAK,QAAQ,EAAE;gBAC/B,OAAO,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,GAAG,CAAE,CAAC,GAAW,EAAE,EAAE;oBAC7C,OAAO;wBACH,IAAI,EAAE,eAAO,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,KAAK,QAAQ,CAAA,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE,IAAI,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,CAAC,CAAA,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC;wBAC5G,KAAK,EAAE,GAAG;wBACV,QAAQ,EAAE,CAAC,CAAC,QAAQ,CAAC,QAAQ;qBAChC,CAAC;gBACN,CAAC,CAAC,CAAC;aACN;YAED,OAAO,UAAU,CAAA,CAAC,CAAC,cAAc,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,cAAc,CAAC,IAAI,CAAC;QACvE,CAAC;KAAA;IAEO,QAAQ,CAAC,CAAS,EAAE,QAAgB,EAAE,cAAyB,EAAE,aAAmB;QACxF,IAAI,IAAI,CAAC,WAAW,CAAC,cAAc,CAAC,EAAE;YAClC,OAAO,IAAI,CAAC,UAAU,CAAC,cAAc,EAAE,aAAa,CAAC,CAAC;SACzD;QAED,OAAO,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,cAAc,EAAE,aAAa,CAAC,CAAC;IAClE,CAAC;CAEJ;AAhND,sCAgNC"}